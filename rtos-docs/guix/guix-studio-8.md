---
title: 特定のウィジェットの種類の編集に関する注意事項
description: 特定の複雑なウィジェットの種類の編集方法について説明する詳細なコメント。
author: jdeere5220
ms.author: kemaxwel
ms.date: 9/30/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: 3194a1b8c8965bf821631a8c34ac5e9961f8c8ff
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2021
ms.locfileid: "104811942"
---
# <a name="chapter-8-notes-on-editing-specific-widget-types"></a>第 8 章: 特定のウィジェットの種類の編集に関する注意事項

GUIX Studio を使用すると、アプリケーションの UI 画面を構成する GUIX ウィジェットを簡単に作成および変更できます。 これらの編集方法のほとんどは、直感的でわかりやすいものです。 たとえば、ウィジェットのサイズを変更するには、マウスでウィジェットを選択し、ウィジェットの枠線をドラッグします。 また、選択したウィジェットの左、上、幅、高さの各プロパティ フィールドに直接入力することもできます。

特定のウィジェットの種類では、より高度な編集プロセスが必要となります。これらのウィジェット自体が、その機能のサポートの面でやや複雑であるためです。

この章では、これらのより複雑なウィジェットの種類の高度な編集機能に関する注意事項を示します。 これらの注意事項は、GUIX ライブラリで提供されるウィジェットの種類と、GUIX Studio の機能の進歩に合わせて拡充されます。

## <a name="rich-text-view"></a>リッチ テキスト ビュー

このウィジェットを使用すると、インライン テキストの書式設定コードをサポートするリッチ テキストを表示できます。 これらの書式設定コードには、太字、斜体などがあります。 まず、"*プロジェクト ビュー*" または "*ターゲット ビュー*" で選択した親を右クリックし、 **[Insert/Text/Rich Text View]\(挿入/テキスト/リッチ テキスト ビュー\)** メニューを選択して、リッチ テキスト ビュー ウィジェットを挿入します。

すべてのウィジェットの種類でサポートされる標準のプロパティ セットに加えて、リッチ テキスト ビュー ウィジェットでは、追加のプロパティがサポートされています。

### <a name="additional-properties"></a>[追加のプロパティ]

| プロパティ | 意味 |
|----------|---------|
| Text Align (テキストの配置) | テキストの既定の配置 |
| Normal Font (標準フォント)| 既定のテキスト フォント |
| Bold Font (太字フォント)  | 太字としてタグ付けされたテキストのテキスト フォント |
| Italic Font (斜体フォント)| 斜体としてタグ付けされたテキストのテキスト フォント|
| Bold Italic Font (太字斜体フォント)| 太字かつ斜体としてタグ付けされたテキストのテキスト フォント |
| Private Text Copy (テキストのプライベート コピー) | ウィジェットが、割り当てられたテキストの独自のプライベート コピーを保持するかどうかを確認する必要があります |
| 空白 | ウィジェットと表示されるテキストの間の余白の幅 (ピクセル単位) |
| Line Spac (行間) | テキストの 2 つの行の間隔 (ピクセル単位) |
|||

### <a name="the-rich-text-formatting-codes"></a>リッチ テキストの書式設定コード

テキストの書式設定では、次の書式コードがサポートされています。

|タグ|意味|
|---|---|
|\<b>\</b> | ユーザー指定の太字フォント ID を使用してテキスト フォントをレンダリングします|
|\<i>\</i> | ユーザー指定の斜体フォント ID を使用してテキスト フォントをレンダリングします|
|\<u>\</u> | 下線付きテキストをレンダリングします|
|\<f GX_FONT_ID>\</f> | 指定されたフォント ID を使用してテキストをレンダリングします |
|\<c GX_COLOR_ID>\</c> | 指定された色 ID を使用してテキストをレンダリングします|
|\<hc GX_COLOR_ID>\</hc> | 指定された背景色 ID を使用してテキストをレンダリングします|
|\<align left/right/center>\</align> | テキストの配置を割り当てます|
|||

GUIX Studio 内からリッチ テキスト文字列を編集するには、2 つの方法があります。

- [Edit Rich Text]\(リッチ テキストの編集\) ダイアログを使用します。これは、推奨される最も簡単な編集方法です。
- [String Table Editor]\(文字列テーブル エディター\) ダイアログを使用すると、前の表に示す書式設定タグを手動で挿入できます。

"*ターゲット ビュー*" でリッチ テキスト ビュー ウィジェットを選択したら、"*プロパティ ビュー*" の **[Edit Rich Text]\(リッチ テキストの編集\)** ボタンを選択して、図 8.1 に示すリッチ テキストの編集ダイアログを開きます。

![GUIX Studio の [Edit Rich Text]\(リッチ テキストの編集\) ダイアログのスクリーンショット。](./media/guix-studio/edit_rich_text_dialog.png)

**図 8.1**

左ペインは、リッチ テキスト編集フィールドです。 ツール バー アイコンを使用して、必要なタグを挿入できます。 編集フィールドでテキストのブロックを選択し、ツール バーのボタンを選択して、選択したテキスト ブロックに必要なスタイルや色を適用します。 [Edit Rich Text]\(リッチ テキストの編集\) ダイアログを使用すると、書式設定コードをテスト文字列に簡単に挿入できます。 これらのタグは手動で挿入することも、必要に応じて実行時に生成することもできます。

右ペインは、ターゲット ビューでテキストがどのようにレンダリングされるのかを示すウィジェット プレビューです。 ウィジェット プレビューの背景色は固定されているので、ターゲット ビューでウィジェットに割り当てられた背景色と一致しない場合があります。

リソース ID 名は、特定のフォントまたは色リソースを参照するためにリッチ テキストで使用されます。 リッチ テキスト文字列によって参照された後に、フォントまたは色のリソース名が変更された場合、GUIX Studio によってリッチ テキスト文字列が自動的に更新され、リソース名の変更が反映されます。 一方、リッチ テキスト ウィジェットによって参照されているフォントまたは色リソースを削除した場合は、影響を受けるリッチ テキストを手動で編集して、削除されたリソース ID 名を削除または変更する必要があります。

このダイアログで [Save]\(保存\) ボタンを選択すると、定義済みのリッチ テキスト文字列がプロジェクト文字列テーブルに追加されます。

## <a name="string-scroll-wheel"></a>文字列スクロール ホイール

文字列スクロール ホイール ウィジェットでは、文字列の配列の表示がサポートされています。 これらの文字列は動的に割り当てることができます。また、アプリケーションで複数の言語がサポートされている場合は、割り当てられた文字列をアクティブな文字列テーブルから取得できます。

文字列スクロール ホイール ウィジェットでは、文字列の配列がサポートされています。 ユーザーがこの文字列の配列を割り当てることができるように、図 8.2 に示す [String Scroll Wheel Edit]\(文字列スクロール ホイールの編集\) ダイアログが用意されています。

![GUIX Studio の [String Scroll Wheel Edit]\(文字列スクロール ホイールの編集\) ダイアログのスクリーンショット。](./media/guix-studio/string_scroll_wheel_edit.png)

**図 8.2**

このダイアログを表示するには、"*ターゲット ビュー*" または "*プロジェクト ビュー*" 内で文字列スクロール ホイール ウィジェットを選択します。 このウィジェットの種類を選択すると、"*プロパティ ビュー*" に **[Edit Strings]\(文字列の編集\)** ボタンが表示されます。 このボタンを選択して、[String Scroll Wheel Edit]\(文字列スクロール ホイールの編集\) ダイアログを開きます。

テキスト インデックスごとに文字列を割り当てるには、ドロップダウン リストから文字列 ID を選択するか、右側の [Text]\(テキスト\) フィールドに新しい文字列値を入力します。 変更が完了すると、新しい文字列または変更された文字列がアクティブな文字列テーブルに保存されます。

## <a name="sprite"></a>スプライト

スプライト ウィジェットを使用すると、アニメーション効果を実現する一連の画像を表示できます。 スプライト ウィジェットにはフレーム リストが必要です。これは、フレーム内の各画像に適用される画像 ID と一意のパラメーターの配列です。 スプライト ウィジェットのこのフレーム リストを作成するために、図 8.3 に示す [Edit Sprite Frames]\(スプライト フレームの編集\) ダイアログが用意されています。

![GUIX Studio の [Edit Sprite Frames]\(スプライト フレームの編集\) ダイアログのスクリーンショット。](./media/guix-studio/edit_sprite_frames.png)

**図 8.3**

このダイアログを表示するには、"*ターゲット ビュー*" または "*プロジェクト ビュー*" 内でスプライト ウィジェットを選択します。 このウィジェットの種類を選択すると、"*プロパティ ビュー*" に **[Edit Framelist]\(フレームリストの編集\)** ボタンが表示されます。 このボタンを選択して、[Edit Sprite Frames]\(スプライト フレームの編集\) ダイアログを開きます。

*[Total number of Sprite Frames]\(スプライト フレームの総数\)* フィールドは、スプライト ウィジェットで表示されるフレームの総数を整数で入力できる入力フィールドです。 画像はフレーム リスト内で再利用できるので、すべての画像が一意である必要はありません。

[Sprite Frame ID]\(スプライト フレーム ID\) フィールドは、1 からフレームの総数までの範囲のフレーム インデックス選択値です。 あるスプライト フレームから次のスプライト フレームに移動するには、この値をインクリメントまたはデクリメントします。

各スプライト フレームには複数のパラメーターがあります。 1 つ目は [Background Operation]\(バックグラウンド操作\) です。 このフィールドは、一般的な GIF アニメーション形式の機能を模倣しています。 ここでの選択肢は次のとおりです。

- [No Operation]\(操作なし\): 現在のフレーム画像が前のフレーム画像の上に描画されます。
- [Restore First Pixel-map]\(最初のピクセルマップを復元\): 現在のピクセルマップの前に、インデックス 1 のピクセルマップが描画されます。
- [Solid Color Fill]\(単色塗りつぶし\): 現在のフレームが描画される前に、スプライトの背景がスプライトの背景色で塗りつぶされます。

[Pixelmap Id]\(ピクセルマップ ID\) フィールドでは、プロジェクト リソースに以前に追加されたピクセルマップを選択できます。 同じピクセルマップ ID を複数のフレームに使用できます。 たとえば、スプライト アニメーションで、さまざまなスプライト画像を使用する代わりに、またはそれに加えて、画像の動き (x および y オフセット フィールドを使用) を利用できます。

[Alpha value]\(アルファ値\) フィールドは、ピクセルマップの描画全体に適用されます。 このフィールドは、8 bpp 以上の色深度で実行されている場合にのみ有効です。 アルファ値 0 は完全に透明で、アルファ値 255 は不透明です。

[Frame x-offset]\(フレームの x オフセット\) および [Frame y-offset]\(フレームの y オフセット\) フィールドを使用して、現在のピクセルマップが描画されるスプライト フレーム内のオフセットを指定できます。 つまり、描画される各画像は、スプライト ウィジェットのフル サイズである必要はありません。

[Delay period]\(遅延期間\) では、次のスプライト フレームに移動するまでの遅延時間を指定します。 この値はティック単位です。既定の GUIX/ThreadX タイマー構成では、各ティックは 50 ミリ秒を表します。

[Edit Sprite Frames]\(スプライト フレームの編集\) ダイアログで変更を保存すると、GUIX Studio は、出力仕様ファイル生成の一環として、完全なフレーム リスト配列を生成できます。
