---
title: GUIX Studio で生成されるコード
description: 画面とリソースの編集が完了すると、GUIX Studio によって、埋め込みアプリケーションに組み込むことができる出力ファイルのセットが生成されます。
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: f8868ec770aa8f7f35d2866b99e3eb8f501281a8
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2021
ms.locfileid: "104811945"
---
# <a name="chapter-6-guix-studio-generated-code"></a><span data-ttu-id="f36d2-103">第 6 章 - GUIX Studio で生成されるコード</span><span class="sxs-lookup"><span data-stu-id="f36d2-103">Chapter 6: GUIX Studio Generated Code</span></span>

<span data-ttu-id="f36d2-104">画面とリソースの編集が完了すると、GUIX Studio によって、埋め込みアプリケーションに組み込むことができる出力ファイルのセットが生成されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-104">When you are done editing your screens and resources, GUIX Studio produces a set of output files that can be incorporated into your embedded application.</span></span> <span data-ttu-id="f36d2-105">出力ファイルを生成するには、[プロジェクト] メニュー項目の \* **[Generate Resource Files]\(リソース ファイルの生成\)** _ および _ *_[_Generate Specifications]\(仕様の生成\)_*\* を選択します。</span><span class="sxs-lookup"><span data-stu-id="f36d2-105">The output files are generated by selecting ***Generate Resource Files** _ and _ *_Generate Specifications_** from the Project menu item.</span></span> <span data-ttu-id="f36d2-106">GUIX Studio によって生成される 'c' 言語ソース コード ファイルは、コンパイルして埋め込みアプリケーションのソース コードとリンクすることを目的としています。</span><span class="sxs-lookup"><span data-stu-id="f36d2-106">The 'c' language source code files generated by GUIX Studio are intended to be compiled and linked with the embedded application source code.</span></span> <span data-ttu-id="f36d2-107">バイナリ形式のリソース ファイルが生成される場合は、このファイルをターゲット上の不揮発性ストレージ領域にプログラミングする必要があり、実行時にバイナリ リソースをインストールするために GUIX API 関数 gx_binres_theme_install を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="f36d2-107">If a binary format resource file is produced, this file should be programmed to a non-volatile storage area on the target and the GUIX API function gx_binres_theme_install should be used to install the binary resources at runtime.</span></span>

<span data-ttu-id="f36d2-108">ユーザーの埋め込みアプリケーション コードにより、GUIX Studio によって生成されたコードが参照されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-108">The user's embedded application code makes references to the code generated by GUIX Studio.</span></span> <span data-ttu-id="f36d2-109">さらに、GUIX Studio で生成されたコードでは、プロジェクト内で指定されたすべてのカスタム ウィジェット描画、イベント処理、およびメモリ割り当ての関数がユーザーの埋め込みアプリケーション コード内で定義されることが想定されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-109">Furthermore, the GUIX Studio generated code expects all custom widget drawing, event handling, and memory allocation functions specified in the project to be defined in the user's embedded application code.</span></span> <span data-ttu-id="f36d2-110">そうでない場合は、アプリケーションをビルドするときにリンク エラーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-110">If they are not, link errors will be present when building the application.</span></span>

> [!NOTE]
> <span data-ttu-id="f36d2-111">ユーザーは、GUIX Studio によって生成されたコードを変更する必要はなく、そうしないようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="f36d2-111">The user should never have to modify the code generated by GUIX Studio and should resist doing so.</span></span> <span data-ttu-id="f36d2-112">すべての UI 変更は、関連付けられている GUIX Studio プロジェクト内で行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="f36d2-112">All UI modifications should be made in the associated GUIX Studio project.</span></span> <span data-ttu-id="f36d2-113">これにより、埋め込みアプリケーションとプロジェクトの同期が維持されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-113">This will keep the project synchronized with the embedded application.</span></span>

## <a name="generating-resource-files"></a><span data-ttu-id="f36d2-114">リソース ファイルの作成</span><span class="sxs-lookup"><span data-stu-id="f36d2-114">Generating Resource Files</span></span>

<span data-ttu-id="f36d2-115">GUIX Studio によって生成されるリソース ファイルには、すべての GUIX Studio リソース (色、フォント、ピクセルマップ、および文字列) を定義する事前設定されたデータ構造が含まれています。これは、実質的にはプロジェクトの "***リソース ビュー***" 内で定義されたすべてのリソースです。</span><span class="sxs-lookup"><span data-stu-id="f36d2-115">Resource files generated by GUIX Studio contain preset data structures that define all of the GUIX Studio resources (colors, fonts, pixelmaps, and strings), which is effectively all the resources defined in the ***Resource View*** of the project.</span></span> <span data-ttu-id="f36d2-116">これらのリソース ファイルは、ソース コードまたはバイナリ形式で生成できます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-116">These resource files can be generated in source code or binary forms.</span></span>

<span data-ttu-id="f36d2-117">既定では、2 つのファイルが生成されます。一方のファイルは標準 C ソース コード ファイルで、もう一方は、プロジェクト内で定義されている GUIX リソースにアクセスするためにアプリケーション コードが必要とする外部参照と定数を提供する C ヘッダー ファイルです。</span><span class="sxs-lookup"><span data-stu-id="f36d2-117">By default, there are two files generated, one file is a standard C source code file and the other is a C header file that provides external references and constants that are necessary for the application code to access the GUIX resources defined in the project.</span></span> <span data-ttu-id="f36d2-118">ファイル名の形式は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="f36d2-118">The file names are of the form:</span></span>

<span data-ttu-id="f36d2-119">**{*project-name*}_resources.h**</span><span class="sxs-lookup"><span data-stu-id="f36d2-119">**{*project-name*}_resources.h**</span></span>

<span data-ttu-id="f36d2-120">**{*project-name*}_resources.c**</span><span class="sxs-lookup"><span data-stu-id="f36d2-120">**{*project-name*}_resources.c**</span></span>

<span data-ttu-id="f36d2-121">たとえば、"***シンプルな***" GUIX Studio プロジェクト用に作成されたリソース ファイルは、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="f36d2-121">For example, the Resource files created for the "***simple***" GUIX Studio project are:</span></span>

<span data-ttu-id="f36d2-122">**simple_resources.h**</span><span class="sxs-lookup"><span data-stu-id="f36d2-122">**simple_resources.h**</span></span>

<span data-ttu-id="f36d2-123">**simple_resources.c**</span><span class="sxs-lookup"><span data-stu-id="f36d2-123">**simple_resources.c**</span></span>

<span data-ttu-id="f36d2-124">リソース ファイルを生成するには、_\*_[プロジェクト]_\*_ メニュー オプションの \* **[Generate Resource Files]\(リソース ファイルの生成\)** _ オプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="f36d2-124">Generating the Resource files is accomplished by selecting ***Generate Resource Files** _ option in the _*_Project_\*_ menu option.</span></span> <span data-ttu-id="f36d2-125">リソース ファイルの保存先は、_\*_[Configure Project]\(プロジェクトの構成\)_\*_ ダイアログで指定します。これには、_ *_[_構成]_*\* メニュー項目の _\*_[Configure Project/Displays]\(プロジェクト/表示の構成\)_\*_ オプションを使用してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-125">The destination of the resource files is specified in the _*_Configure Project_*_ dialog, which is accessible via the _*_Configure Project/Displays_*_ option in the _ *_Configure_*\* menu item.</span></span>

<span data-ttu-id="f36d2-126">ピクセルマップとフォント リソースについては、関連付けられているリソース編集ダイアログ内で、ピクセルマップとフォントごとにカスタム出力ファイル名を指定できます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-126">For Pixelmap and Font resources, you can specify a custom output filename for each pixelmap and font in the associated resource editing dialogs.</span></span> <span data-ttu-id="f36d2-127">この機能を使用すると、1 つの共通出力ファイルにすべてのリソースを配置するのではなく、非常に大きなリソースを別々のファイルに配置することができます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-127">This feature allows you to put very large resources in distinct files, rather than putting all resources in one common output file.</span></span> <span data-ttu-id="f36d2-128">フォントまたはピクセルマップ リソースにオーバーライドされたファイル名を指定しない場合、これらのリソースは共通のリソース ファイルに書き込まれます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-128">If you do not specify an overridden filename for a font or pixelmap resource, those resources are written into the common resource file.</span></span>

<span data-ttu-id="f36d2-129">バイナリ リソースを使用する場合は、未加工または標準の s-record 出力形式を指定できます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-129">If you prefer to use binary resources, you can specify either raw or standard s-record output format.</span></span> <span data-ttu-id="f36d2-130">バイナリ リソースは、アプリケーション コードでコンパイルまたはリンクされず、代わりに gx_binres_them_load() API を使用して実行時に読み込まれます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-130">Binary resources are not compiled or linked with the application code, but are instead loaded at runtime using the gx_binres_them_load() API.</span></span> <span data-ttu-id="f36d2-131">この API サービスにより、不揮発性メモリに格納されているリソースを指すリソース テーブルが構築されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-131">This API service builds resource tables that point to your resources stored in non-volatile memory.</span></span> <span data-ttu-id="f36d2-132">次に、gx_display_theme_install(); を使用して、特定の表示でこれらのリソースをインストールできます</span><span class="sxs-lookup"><span data-stu-id="f36d2-132">You can then install these resources with a particular display using gx_display_theme_install();</span></span>

## <a name="generating-specification-code"></a><span data-ttu-id="f36d2-133">仕様コードの生成</span><span class="sxs-lookup"><span data-stu-id="f36d2-133">Generating Specification Code</span></span>

<span data-ttu-id="f36d2-134">GUIX Studio によって生成される仕様ファイルには、GUIX Studio 内でデザインされた UI を作成するための C コードがすべて含まれています。</span><span class="sxs-lookup"><span data-stu-id="f36d2-134">The Specification files generated by GUIX Studio contain all the C code to create the UI designed in GUIX Studio.</span></span> <span data-ttu-id="f36d2-135">このコードでは、このプロジェクトに対して生成されたリソース ファイルも参照されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-135">This code also references the Resource files generated for this project.</span></span> <span data-ttu-id="f36d2-136">ユーザーのアプリケーション コードにより、このコードが呼び出され、プロジェクト内で定義されている UI オブジェクトが実際に作成されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-136">The user's application code will make calls to this code to actually create the UI objects defined in the project.</span></span> <span data-ttu-id="f36d2-137">さらに、ユーザーのアプリケーション コードには、プロジェクト内で指定されているすべてのカスタム ウィジェット描画、イベント処理、およびメモリ割り当て関数が含まれています。</span><span class="sxs-lookup"><span data-stu-id="f36d2-137">Furthermore, the user's application code contains all custom widget drawing, event handling, and memory allocation functions specified in the project.</span></span> <span data-ttu-id="f36d2-138">既定では、2 つのファイルが生成されます。一方のファイルは標準 C ソース コード ファイルで、もう一方は、GUIX Studio 仕様にアクセスするためにアプリケーション コードが必要とする外部参照と定数を提供する C ヘッダー ファイルです。</span><span class="sxs-lookup"><span data-stu-id="f36d2-138">By default, there are two files generated, one file is a standard C source code file and the other is a C header file that provides external references and constants that are necessary for the application code to access the GUIX Studio Specifications.</span></span> <span data-ttu-id="f36d2-139">ファイル名の形式は次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="f36d2-139">The file names are of the form:</span></span>

<span data-ttu-id="f36d2-140">**{*project-name*}_specifications.h**</span><span class="sxs-lookup"><span data-stu-id="f36d2-140">**{*project-name*}_specifications.h**</span></span>

<span data-ttu-id="f36d2-141">**{*project-name*}_specifications.c**</span><span class="sxs-lookup"><span data-stu-id="f36d2-141">**{*project-name*}_specifications.c**</span></span>

<span data-ttu-id="f36d2-142">たとえば、"***シンプルな***" Guix Studio プロジェクト用に作成された仕様ファイルは、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="f36d2-142">For example, the Specification files created for the "***simple***" GUIX Studio project are:</span></span>

<span data-ttu-id="f36d2-143">**simple_specifications.h**</span><span class="sxs-lookup"><span data-stu-id="f36d2-143">**simple_specifications.h**</span></span>

<span data-ttu-id="f36d2-144">**simple_specifications.c**</span><span class="sxs-lookup"><span data-stu-id="f36d2-144">**simple_specifications.c**</span></span>

<span data-ttu-id="f36d2-145">仕様ファイルの生成は、_\*_[プロジェクト]_\*_ メニュー オプションの \* **[Generate Specification Files]\(仕様ファイルの生成\)** _ オプションを選択することで実現されます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-145">Generating the Specification files is accomplished by selecting ***Generate Specification Files** _ option in the _*_Project_\*_ menu option.</span></span> <span data-ttu-id="f36d2-146">仕様ファイルの保存先は、_\*_[Configure Project]\(プロジェクトの構成\)_\*_ ダイアログで指定します。これには、_ *_[_構成]_*\* メニュー項目の _\*_[Configure Project/Displays]\(プロジェクト/表示の構成\)_\*_ オプションを使用してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="f36d2-146">The destination of the Specification files is specified in the _*_Configure Project_*_ dialog, which is accessible via the _*_Configure Project/Displays_*_ option in the _ *_Configure_*\* menu item.</span></span>

## <a name="integrating-with-user-code"></a><span data-ttu-id="f36d2-147">ユーザー コードとの統合</span><span class="sxs-lookup"><span data-stu-id="f36d2-147">Integrating with User Code</span></span>

<span data-ttu-id="f36d2-148">GUIX Studio によって生成されるリソースおよび仕様ファイルの統合は簡単で、次の手順に従うだけです。</span><span class="sxs-lookup"><span data-stu-id="f36d2-148">Integrating the Resource and Specification files generated by GUIX Studio is straightforward, simply follow these steps:</span></span>

1. <span data-ttu-id="f36d2-149">リソースおよび仕様ファイルを埋め込みビルド環境にコピーするか、パス設定を使用してアクセス可能にします</span><span class="sxs-lookup"><span data-stu-id="f36d2-149">Either copy or make the Resource and Specification files accessible via path settings to the embedded build environment</span></span>
2. <span data-ttu-id="f36d2-150">すべてのリソースおよび仕様ファイルを埋め込み IDE プロジェクトまたはメイクファイルに追加します</span><span class="sxs-lookup"><span data-stu-id="f36d2-150">Add all Resource and Specification files to embedded IDE project or makefile</span></span>
3. <span data-ttu-id="f36d2-151">アプリケーションの埋め込みコードによって、リソースおよび仕様ファイルに含まれる UI を初期化および作成するために必要な関数が呼び出されることを確認します</span><span class="sxs-lookup"><span data-stu-id="f36d2-151">Ensure the application embedded code calls the necessary functions to initialize and create the UI contained in the Resource and Specification files</span></span>
4. <span data-ttu-id="f36d2-152">アプリケーションの埋め込みコードに、必要なカスタム ウィジェットの描画、イベント処理、およびメモリ割り当ての関数がすべて含まれていることを確認します</span><span class="sxs-lookup"><span data-stu-id="f36d2-152">Ensure the application embedded code contains all necessary custom widget drawing, event handling, and memory allocation functions</span></span>
5. <span data-ttu-id="f36d2-153">アプリケーションをビルド (コンパイルおよびリンク) します</span><span class="sxs-lookup"><span data-stu-id="f36d2-153">Build the application (compile and link)</span></span>
6. <span data-ttu-id="f36d2-154">アプリケーションを実行します。</span><span class="sxs-lookup"><span data-stu-id="f36d2-154">Execute the application!</span></span>