---
title: 第 1 章 - Azure RTOS NetX の概要
description: この章では、Azure RTOS NetX の概要と、そのアプリケーションおよび利点について説明します。
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 48be6a7ecddc53b36b3cc1a9ecfb50a11e285881
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2021
ms.locfileid: "104811708"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx"></a>第 1 章 - Azure RTOS NetX の概要

Azure RTOS NetX は、ThreadX ベースの埋め込みアプリケーション専用に設計された、TCP/IP 標準の高パフォーマンス リアルタイム実装です。 この章では、NetX の概要と、そのアプリケーションおよび利点について説明します。

## <a name="netx-unique-features"></a>NetX の固有の機能

他の TCP/IP 実装とは異なり、NetX は汎用性を重視して設計され、小型マイクロコントローラーをベースとしたアプリケーションから強力な RISC および DSP プロセッサ搭載のアプリケーションに、容易にスケーリングできます。 これは、元々はワークステーション環境を想定していたものが、後に埋め込み型設計に詰め込まれたパブリック ドメインやその他の商用実装とは対照的です。

### <a name="piconettrade-architecture"></a>Piconet&trade; アーキテクチャ

NetX の優れたスケーラビリティとパフォーマンスを支えているのが、特に埋め込みシステム向けに設計されたソフトウェア アーキテクチャ *Piconet* です。 Piconet アーキテクチャは、NetX サービスを C ライブラリとして実装することによって、スケーラビリティを最大限に高めています。 このようにして、アプリケーションによって実際に使用されている、これらのサービスのみが最終的なランタイム イメージに取り込まれます。 したがって、NetX の実際のサイズは、アプリケーションによって完全に決まります。 NetX のイメージ サイズの要件は、ほとんどのアプリケーションで 5 KB から 30 KB の範囲になります。

NetX は、本当に必要なときだけ内部コンポーネント関数呼び出しを重ねることで、優れたネットワーク パフォーマンスを実現します。 さらに、NetX の処理の多くが直接インラインで行われるため、従来の埋め込み設計でよく使用されていたワークステーション ネットワーク ソフトウェアよりも優れたパフォーマンスが実現します。</th>

### <a name="zero-copy-implementation"></a>ゼロコピー実装

NetX は、TCP/IP のパケットベースの 「*ゼロコピー*」実装を提供します。 ゼロコピーとは、アプリケーションのパケット バッファー内のデータが、NetX 内にコピーされないことです。 これによりパフォーマンスが大幅に向上し、貴重なプロセッサ サイクルがアプリケーションに解放されます。これは、埋め込みアプリケーション内では非常に重要です。

### <a name="udp-fast-pathtrade-technology"></a>UDP Fast Path&trade; テクノロジ

「*UDP Fast Path テクノロジ*」 により、最速の UDP 処理が実現します。 送信側の UDP 処理 （オプションの UDP チェックサムを含む） は、***nx_udp_socket_send*** サービス内に完全に含まれています。 内部 NetX IP 送信ルーチンを介してパケットを送信する準備ができるまで、追加の関数呼び出しは行われません。 また、このルーチンはフラット （関数呼び出しの入れ子が最小） であるため、パケットはアプリケーションのネットワーク ドライバーに迅速にディスパッチされます。 UDP パケットを受信すると、NetX パケット受信処理によって、そのパケットは、適切な UDP ソケットの受信キューに直接入れられるか、UDP ソケットの受信キューからの受信パケットを待っている、中断された最初のスレッドに渡されます。 追加の ThreadX コンテキスト切り替えは必要ありません。

### <a name="ansi-c-source-code"></a>ANSI C ソース コード

NetX は完全に ANSI C で記述されており、ANSI C コンパイラと ThreadX サポートを備えた事実上すべてのプロセッサ アーキテクチャにすぐに移植できます。

### <a name="not-a-black-box"></a>ブラック ボックスではない

NetX のほとんどのディストリビューションに、完全な C ソース コードが含まれています。 これにより、多くの商用ネットワーク スタックで発生する 「ブラック ボックス」 の問題が解消されます。 NetX を使用すると、アプリケーション開発者が、ネットワーク スタックの動作を正確に知ることができます。謎はありません。
  
また、ソース コードによって、アプリケーション固有の変更を行うこともできます。 推奨はされていませんが、必要な場合にネットワーク スタックを変更できれば、確かに便利です。  

これらの機能は、社内またはパブリック ドメインのネットワーク スタックの操作に慣れている開発者にとっては、特に心強いものです。 期待されているのは、ソース コードと、それを変更する機能です。 NetX は、このような開発者のための究極のネットワーク ソフトウェアです。

### <a name="bsd-compatible-socket-api"></a>BSD 互換ソケット API

レガシ アプリケーションのために、NetX は、その下で高パフォーマンス NetX API を呼び出す BSD 互換のソケット インターフェイスを提供しています。 これは、既存のネットワーク アプリケーション コードを NetX に移行する際に役立ちます。

## <a name="rfcs-supported-by-netx"></a>NetX によってサポートされている RFC

NetX は、基本的なネットワーク プロトコルを説明する RFC をサポートしており、そのサポートには次のネットワーク プロトコルが含まれますが、これらに限定されません。 NetX は、メモリ専有領域が少なく、効率的に実行されるリアルタイム オペレーティング システムの制約の中で、一般的な推奨事項と基本要件をすべて満たしています。

| RFC      | 説明                                            |
|----------|--------------------------------------------------------|
| RFC 1112 | IP マルチキャスト用のホスト拡張機能 （IGMPv1）           |
| RFC 1122 | インターネット ホストの要件 - 通信レイヤー |
| RFC 2236 | インターネット グループ管理プロトコル、バージョン 2          |
| RFC 768  | ユーザー データグラム プロトコル (UDP)                           |
| RFC 791  | インターネット プロトコル (IP)●いんたーねっとぷろとこる(ip)○                                 |
| RFC 792  | インターネット制御メッセージ プロトコル （ICMP）               |
| RFC 793  | 伝送制御プロトコル (TCP)                    |
| RFC 826  | イーサネット アドレス解決プロトコル （ARP）             |
| RFC 903  | 逆アドレス解決プロトコル （RARP）             |
|          |                                                        |

## <a name="embedded-network-applications"></a>埋め込みネットワーク アプリケーション

埋め込みネットワーク アプリケーションとは、ネットワーク アクセスを必要とするアプリケーションであり、携帯電話、通信機器、自動車エンジン、レーザー プリンター、医療機器などの製品に内蔵されたマイクロプロセッサ上で実行されます。 このようなアプリケーションには、メモリとパフォーマンスに制約があることがほとんどです。 また、そのソフトウェアとハードウェアに専用の用途があることも、埋め込みネットワーク アプリケーションの特徴の 1 つです。

### <a name="real-time-network-software"></a>リアルタイム ネットワーク ソフトウェア  

基本的に、正確な時間内に処理を実行する必要があるネットワーク ソフトウェアは、「*リアルタイム* *ネットワーク*」 ソフトウェアと呼ばれ、時間的な制約がネットワーク アプリケーションに適用されると、それはリアルタイム アプリケーションとして分類されます。 埋め込みネットワーク アプリケーションは外部とのやり取りが不可欠であるため、ほとんどの場合、リアルタイムです。

## <a name="netx-benefits"></a>NetX の利点

埋め込みアプリケーションに NetX を使用する主な利点は、インターネット接続が高速で、必要なメモリが非常に少ないことです。 NetX は、高パフォーマンスのマルチタスキング ThreadX リアルタイム オペレーティング システムとも完全に統合されています。

### <a name="improved-responsiveness"></a>応答性の向上  

高パフォーマンス NetX プロトコル スタックを使用すると、埋め込みネットワーク アプリケーションがかつてない速さで応答できるようになります。 これは、大量のネットワーク トラフィックや、1 つのパケットに対して厳しい処理が要求される埋め込みアプリケーションにとっては特に重要です。

### <a name="software-maintenance"></a>ソフトウェアのメンテナンス

NetX を使用すると、開発者が、埋め込みアプリケーションのネットワークの側面を簡単にパーティション分割できます。 このパーティション分割により、開発プロセス全体が容易になり、将来のソフトウェア メンテナンスが大幅に向上します。

### <a name="increased-throughput"></a>スループットの向上

NetX は、パケット処理のオーバーヘッドを最小限に抑えることで、最高のパフォーマンスを発揮するネットワークを実現します。 これによりスループットも向上します。

### <a name="processor-isolation"></a>プロセッサの分離

NetX は、アプリケーションと、基になるプロセッサと、ネットワーク ハードウェアの間に、プロセッサに依存しない堅牢なインターフェイスを提供します。 これにより、開発者はアプリケーションのネットワークの側面に専念することができます。ネットワークに直接影響を与えるハードウェアの問題への対処に余分な時間をかける必要はありません。

### <a name="ease-of-use"></a>使いやすさ

NetX は、アプリケーション開発者を念頭に置いて設計されています。 NetX のアーキテクチャとサービス呼び出しインターフェイスは、理解しやすくなっています。 その結果、NetX の開発者は、その高度な機能をすぐに使うことができます。

### <a name="improve-time-to-market"></a>市場投入までの時間の短縮

NetX の強力な機能が、ソフトウェア開発プロセスを加速します。 NetX により、プロセッサおよびネットワーク ハードウェアの問題のほとんどのが取り除かれるため、こうした懸念は、アプリケーション ネットワーク固有の大部分の領域から排除されます。 このことが、使いやすさおよび高度な機能セットと相まって、市場投入までの時間が短縮されます。

### <a name="protecting-the-software-investment"></a>ソフトウェア投資の保護

NetX は ANSI C で排他的に記述され、ThreadX リアルタイム オペレーティング システムに完全に統合されています。 つまり、NetX アプリケーションは、ThreadX がサポートされているすべてのプロセッサに瞬時に移植できます。 さらに、数週間のうちに、まったく新しいプロセッサ アーキテクチャを ThreadX でサポートすることも可能です。 その結果、NetX を使用することでアプリケーションの移行パスが保証され、当初の開発投資が保護されます。
