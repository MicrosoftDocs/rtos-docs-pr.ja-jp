---
title: 第 1 章 - Azure RTOS NetX Duo SMTP クライアントの概要
description: 簡易メール転送プロトコル (SMTP) は、ネットワークとインターネットを介してメールを転送するためのプロトコルです。
author: philmea
ms.author: philmea
ms.date: 07/09/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: f58a0c235f5c2cd108ba97afe676ffa9b66e715c
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2021
ms.locfileid: "104810610"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-duo-smtp-client"></a><span data-ttu-id="22f88-103">第 1 章 - Azure RTOS NetX Duo SMTP クライアントの概要</span><span class="sxs-lookup"><span data-stu-id="22f88-103">Chapter 1 - Introduction to Azure RTOS NetX Duo SMTP client</span></span>

<span data-ttu-id="22f88-104">簡易メール転送プロトコル (SMTP) は、ネットワークとインターネットを介してメールを転送するためのプロトコルです。</span><span class="sxs-lookup"><span data-stu-id="22f88-104">The Simple Mail Transfer Protocol (SMTP) is a protocol for transferring mail across networks and the Internet.</span></span> <span data-ttu-id="22f88-105">このプロトコルでは、信頼性の高い伝送制御プロトコル (TCP) サービスを利用して、コンテンツ転送機能を実行します。</span><span class="sxs-lookup"><span data-stu-id="22f88-105">It utilizes the reliable Transmission Control Protocol (TCP) services to perform its content transfer function.</span></span>

## <a name="netx-duo-smtp-client-requirements"></a><span data-ttu-id="22f88-106">NetX Duo SMTP クライアントの要件</span><span class="sxs-lookup"><span data-stu-id="22f88-106">NetX Duo SMTP Client Requirements</span></span>

<span data-ttu-id="22f88-107">NetX Duo SMTP クライアントでは、NetX Duo IP インスタンスと NetX Duo パケット プールを作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="22f88-107">The NetX Duo SMTP Client requires creation of a NetX Duo IP instance and NetX Duo packet pool.</span></span> <span data-ttu-id="22f88-108">SMTP クライアントは、TCP ソケットを使用して、*既知のポート 25 で SMTP サーバーに接続します。そのため*、事前に作成した IP インスタンスで *nx_tcp_enable* サービスを呼び出して、まず TCP を有効にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="22f88-108">The SMTP Client uses a TCP socket to connect to an SMTP Server on the *well-known port 25. Therefore*, TCP must first be enabled by calling the *nx_tcp_enable* service on a previously created IP instance.</span></span>

<span data-ttu-id="22f88-109">SMTP クライアントの作成呼び出し (nxd_smtp_client_create) では、サーバーに SMTP コマンドを送信してさらに実際のメール メッセージを送信するために、事前に作成したパケット プールが必要です。</span><span class="sxs-lookup"><span data-stu-id="22f88-109">The SMTP Client create call (nxd_smtp_client_create) requires a previously created packet pool for transmitting SMTP commands to the Server as well as for sending the actual mail message.</span></span> <span data-ttu-id="22f88-110">パケット ペイロードは、メール コンテンツの予想されるサイズに依存し、TCP、IP ヘッダー、および MAC ヘッダーを許可する必要があります</span><span class="sxs-lookup"><span data-stu-id="22f88-110">Packet payload depends on the anticipated size of the mail contents and must allow for TCP, IP header, and MAC header.</span></span> <span data-ttu-id="22f88-111">(IPv6 ヘッダーは 40 バイトで、IPv4 ヘッダーは 20 バイトであることに注意してください)。</span><span class="sxs-lookup"><span data-stu-id="22f88-111">(Note that the IPv6 header is 40 bytes while the IPv4 header is 20 bytes.)</span></span>

<span data-ttu-id="22f88-112">メール メッセージ全体が 1 つのパケットに収まりきらない場合、SMTP クライアントによって、メッセージの残りの部分を格納するための追加のパケットが割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="22f88-112">If the entire mail message cannot fit in one packet, the SMTP Client allocates additional packets to contain the rest of the message.</span></span>

## <a name="netx-duo-smtp-client-constraints"></a><span data-ttu-id="22f88-113">NetX Duo SMTP クライアントの制約</span><span class="sxs-lookup"><span data-stu-id="22f88-113">NetX Duo SMTP Client Constraints</span></span>

<span data-ttu-id="22f88-114">NetX Duo SMTP プロトコルでは RFC 2821 と 2554 標準が実装されますが、次のようないくつかの制約があります。</span><span class="sxs-lookup"><span data-stu-id="22f88-114">While the NetX Duo SMTP protocol implements the RFC 2821 and 2554 standards, there are some constraints:</span></span>

1. <span data-ttu-id="22f88-115">NetX Duo SMTP クライアントは、LOGIN と PLAIN 認証のみをサポートし、CRAM MD5 ダイジェスト認証はサポートしていません。</span><span class="sxs-lookup"><span data-stu-id="22f88-115">The NetX Duo SMTP Client supports only LOGIN and PLAIN authentication, but not CRAM-MD5 digest authentication.</span></span>
2. <span data-ttu-id="22f88-116">NetX Duo SMTP クライアント メッセージは、メール アイテムごとに 1 つの受信者と、SMTP サーバーとの TCP 接続ごとに 1 つのメール メッセージのみに制限されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-116">The NetX Duo SMTP Client messages are limited to one recipient per mail item, and only one mail message per TCP connection with the SMTP server.</span></span>
3. <span data-ttu-id="22f88-117">VRFY、SEND、SOML、EXPN、SAML、ETRN、TURN、SIZE SMTP オプションはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="22f88-117">VRFY, SEND, SOML, EXPN, SAML, ETRN, TURN and SIZE SMTP options are not supported.</span></span>
4. <span data-ttu-id="22f88-118">SMTP クライアントは、通常メール メッセージの作成に使用されるメール ブラウザー ("メール ユーザー エージェント") ではありません。</span><span class="sxs-lookup"><span data-stu-id="22f88-118">The SMTP Client is not mail browser (“mail user agent”) which is typically used for creating the mail message.</span></span> <span data-ttu-id="22f88-119">これは "メール転送エージェント" です。</span><span class="sxs-lookup"><span data-stu-id="22f88-119">It is a “mail transfer agent” only.</span></span> <span data-ttu-id="22f88-120">これは、RFC 2821 で指定されている SMTP 転送のメール メッセージ本文の必要な処理を提供します。</span><span class="sxs-lookup"><span data-stu-id="22f88-120">It will provide the necessary processing of the mail message body for SMTP transport as specified in RFC 2821.</span></span> <span data-ttu-id="22f88-121">たとえば、受信者と逆方向の経路など、コンテンツの構文が正しいかどうかはチェックしません。</span><span class="sxs-lookup"><span data-stu-id="22f88-121">It does not check the contents for correct syntax e.g. the recipient and reverse pathway.</span></span> <span data-ttu-id="22f88-122">MIME データやクリア テキスト メッセージなど、メール バッファーの内容には、制限はありません。</span><span class="sxs-lookup"><span data-stu-id="22f88-122">There is no restriction what is in the mail buffer e.g. MIME data or clear text messages.</span></span> <span data-ttu-id="22f88-123">RFC 2822 で指定されている、ヘッダーとメッセージ本文を含めるためのメール メッセージ形式は、SMTP クライアント API の範囲を超えています。</span><span class="sxs-lookup"><span data-stu-id="22f88-123">Mail message format, specified in RFC 2822 for including headers and message body is beyond the scope of the SMTP Client API.</span></span>

## <a name="commands-supported-by-netx-duo-smtp-client"></a><span data-ttu-id="22f88-124">NetX Duo SMTP クライアントでサポートされているコマンド</span><span class="sxs-lookup"><span data-stu-id="22f88-124">Commands Supported by NetX Duo SMTP Client</span></span>

<span data-ttu-id="22f88-125">NetX Duo SMTP クライアントでは、SMTP サーバーとのメール セッション中に次のコマンドが使用されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-125">The NetX Duo SMTP Client uses the following commands during a mail session with an SMTP Server.</span></span>

- <span data-ttu-id="22f88-126">**EHLO** クライアントから、SMTP サーバーから利用可能な一部または全部の拡張プロトコル SMTP サービスを含むセッションの開始が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-126">**EHLO** The Client would like to initiate a session that includes some or all extension protocol SMTP services available from the SMTP Server.</span></span> <span data-ttu-id="22f88-127">既定値です。</span><span class="sxs-lookup"><span data-stu-id="22f88-127">This is the default.</span></span>
- <span data-ttu-id="22f88-128">**HELO** クライアントから、基本的な SMTP サービスに限定されたセッションの開始が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-128">**HELO** The Client would like to initiate a session limited to basic SMTP services.</span></span>
- <span data-ttu-id="22f88-129">**MAIL** クライアントから、サーバーでのクライアント メールの受信が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-129">**MAIL** The Client would like the Server to receive Client mail.</span></span>
- <span data-ttu-id="22f88-130">**AUTH** クライアントから、サーバーによる認証の開始が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-130">**AUTH** The Client would like to initiate authentication by the Server.</span></span>
- <span data-ttu-id="22f88-131">**RCPT** クライアントから、メールの配信先として使用する別のホストのメールボックスの送信が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-131">**RCPT** The Client would like to submit a mailbox of another host it would like the mail to be delivered to.</span></span>
- <span data-ttu-id="22f88-132">**DATA** クライアントから、サーバーへのメール メッセージ データの送信開始が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-132">**DATA** The Client would like to initiate sending mail message data to the Server.</span></span>
- <span data-ttu-id="22f88-133">**QUIT** クライアントによって、セッションの終了が求められています。</span><span class="sxs-lookup"><span data-stu-id="22f88-133">**QUIT** The Client would like to terminate the session.</span></span>

## <a name="getting-started"></a><span data-ttu-id="22f88-134">作業の開始</span><span class="sxs-lookup"><span data-stu-id="22f88-134">Getting Started</span></span>

<span data-ttu-id="22f88-135">SMTP クライアント アプリケーションによって IP インスタンスが作成され、その IP インスタンスで TCP が有効になります。</span><span class="sxs-lookup"><span data-stu-id="22f88-135">The SMTP Client application creates an IP instance and an enables TCP on that IP instance.</span></span> <span data-ttu-id="22f88-136">その後、次のサービスを使用して SMTP クライアントが作成されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-136">It then creates the SMTP Client using the following service:</span></span>

```C
UINT nxd_smtp_client_create(NX_SMTP_CLIENT *client_ptr,
    NX_IP *ip_ptr, NX_PACKET_POOL
    *client_packet_pool_ptr,
    CHAR *username, CHAR *password,
    CHAR *from_address,
    CHAR *client_domain,
    UINT authentication_type,
    NXD_ADDRESS *server_address, UINT port);
```

<span data-ttu-id="22f88-137">*Client_packet_pool_ptr* は、SMTP クライアントが SMTP サーバーにメッセージを送信するために使用する、以前に作成されたパケット プールへのポインターです。</span><span class="sxs-lookup"><span data-stu-id="22f88-137">The *client_packet_pool_ptr* is a pointer to a previously created packet pool the SMTP Client will use to send messages to the SMTP Server.</span></span>

<span data-ttu-id="22f88-138">アプリケーションは、ローカル デバイスの *from_address* とサーバーの IP アドレスを提供する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="22f88-138">Note that an application must provide a *from_address* for the local device and a server IP address.</span></span> <span data-ttu-id="22f88-139">すべてのアドレスは完全修飾ドメイン名である必要があります。</span><span class="sxs-lookup"><span data-stu-id="22f88-139">All addresses must be fully qualified domain names.</span></span> <span data-ttu-id="22f88-140">完全修飾ドメイン名には、"@" 文字で区切られた、ローカル部分とドメイン名が含まれます。</span><span class="sxs-lookup"><span data-stu-id="22f88-140">A fully qualified domain name contains a local-part and a domain name, separated by an ‘@’ character.</span></span> <span data-ttu-id="22f88-141">SMTP クライアントは、次の nx_smtp_mail_send サービスで *from_address* または *recipient_address* の構文をチェックしないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="22f88-141">Note that the SMTP Client does not check the syntax of the *from_address* or the *recipient_address* in the nx_smtp_mail_send service below.</span></span>

<span data-ttu-id="22f88-142">SMTP クライアントが作成されると、SMTP クライアント アプリケーションによって適切な形式の SMTP メール メッセージを含むメール アイテムが作成され、次の API を使用して、SMTP クライアントにメール アイテムの送信が要求されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-142">After the SMTP Client is created, the SMTP Client application creates a mail item with a properly formatted SMTP mail message, and makes the mail item send request to the SMTP Client using the following API:</span></span>

```C
UINT nx_smtp_mail_send(NX_SMTP_CLIENT *client_ptr,
    CHAR *recipient_address, UINT priority,
    CHAR *subject, CHAR *mail_body,
    UINT mail_body_length);
```

<span data-ttu-id="22f88-143">IPv4 または IPv6 経由の SMTP クライアントを実行する場合、ユーザーの観点からは基本的に違いはありません。</span><span class="sxs-lookup"><span data-stu-id="22f88-143">There is essentially no difference in running SMTP Client over IPv4 or IPv6 from user perspective.</span></span> <span data-ttu-id="22f88-144">2 つの IP プロトコルの違いは、基になる NetX Duo レイヤーで処理されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-144">Differences between the two IP protocols are handled in the underlying NetX Duo layer.</span></span>

<span data-ttu-id="22f88-145">メールを送信するアプリケーションでは、*nx_smtp_client_mail* の呼び出しで受信者アドレスを指定する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="22f88-145">Note that an application wishing to send mail must provide a recipient address in the *nx_smtp_client_mail* call.</span></span>

<span data-ttu-id="22f88-146">認証の場合、ユーザー名には完全修飾ドメイン名を使用するか、ユーザー名を表示することができます。</span><span class="sxs-lookup"><span data-stu-id="22f88-146">For authentication, usernames can either be fully qualified domain names, or display user names.</span></span> <span data-ttu-id="22f88-147">これは、サーバーでの認証方法によって決まります。</span><span class="sxs-lookup"><span data-stu-id="22f88-147">This depends on how the Server performs authentication.</span></span>

<span data-ttu-id="22f88-148">このユーザー ガイドで後述する「小さい例」セクションのデモで、メッセージの書式設定方法を示します。</span><span class="sxs-lookup"><span data-stu-id="22f88-148">The demo in the Small Example section later in this User Guide shows how the message should be formatted.</span></span> <span data-ttu-id="22f88-149">メール アイテムが正常に送信された場合のステータスは NX_SUCCESS になります。</span><span class="sxs-lookup"><span data-stu-id="22f88-149">The status if the mail item was successfully sent will be NX_SUCCESS.</span></span> <span data-ttu-id="22f88-150">エラーが発生した場合、それが内部エラー、TCP 接続の切断、またはサーバーの応答エラー コードの受信のいずれであっても、*nx_smtp_mail_send* によって 0 以外のエラー状態が返されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-150">If an error occurs, whether it is an internal error, a broken TCP connection or receiving a Server reply error code, *nx_smtp_mail_send* will return a non-zero error status.</span></span>

<span data-ttu-id="22f88-151">メール アイテムを送信するときに、NetX Duo SMTP クライアントによって SMTP サーバーとの新しい TCP 接続が作成され、SMTP セッションが開始されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-151">When sending a mail item, NetX Duo SMTP Client creates a new TCP connection with the SMTP server and begins an SMTP session.</span></span> <span data-ttu-id="22f88-152">このセッションでは、クライアントによって SMTP プロトコルの一部として SMTP サーバーに一連のコマンドが送信され、最終的に実際のメール メッセージが送信されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-152">In this session, the Client sends a series of commands to the SMTP Server as part of the SMTP protocol, culminating in sending out the actual mail message.</span></span> <span data-ttu-id="22f88-153">その後で、SMTP セッションの結果に関係なく、TCP 接続が終了します。</span><span class="sxs-lookup"><span data-stu-id="22f88-153">The TCP connection is then terminated, regardless of the outcome of the SMTP session.</span></span>

<span data-ttu-id="22f88-154">メールの送信後、成功または失敗に関係なく、SMTP クライアントは "初期" 状態に戻り、別のメール転送セッションに使用できます。</span><span class="sxs-lookup"><span data-stu-id="22f88-154">After mail transmission, regardless of success or failure, the SMTP Client is returned to the ‘initial’ state, and can be used for another mail transfer session.</span></span>

## <a name="netx-duo-smtp-authentication"></a><span data-ttu-id="22f88-155">NetX Duo SMTP 認証</span><span class="sxs-lookup"><span data-stu-id="22f88-155">NetX Duo SMTP Authentication</span></span>

<span data-ttu-id="22f88-156">認証は、SMTP クライアントが SMTP サーバーに対して ID を証明し、信頼できるユーザーとしてクライアントのメールを配信させる方法です。</span><span class="sxs-lookup"><span data-stu-id="22f88-156">Authentication is a way for SMTP Clients to prove their identity to the SMTP Server and have their mail delivered as trusted users.</span></span> <span data-ttu-id="22f88-157">ほとんどの商用 SMTP サーバーでは、クライアントが認証される必要があります。</span><span class="sxs-lookup"><span data-stu-id="22f88-157">Most commercial SMTP Servers require that Clients be authenticated.</span></span>

<span data-ttu-id="22f88-158">通常、認証データは、送信者のユーザー名とパスワードで構成されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-158">Typically, authentication data consists of the sender's username and password.</span></span> <span data-ttu-id="22f88-159">認証チャレンジ中に、サーバーによってこの情報が要求され、クライアントからは要求されたデータをエンコードされた形式での送信という形で応答が行われます。</span><span class="sxs-lookup"><span data-stu-id="22f88-159">During an authentication challenge, the Server prompts for this information and the Client responds by sending the requested data in encoded format.</span></span> <span data-ttu-id="22f88-160">サーバーでデータがデコードされ、ユーザー データベース内で一致するデータの照合が試みられます。</span><span class="sxs-lookup"><span data-stu-id="22f88-160">The Server decodes the data and attempts to find a match in its user database.</span></span> <span data-ttu-id="22f88-161">見つかった場合、サーバーによって認証が成功したことが示されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-161">If found, the Server indicates the authentication is successful.</span></span> <span data-ttu-id="22f88-162">SMTP 認証は [RFC 2554](http://www.ietf.org/rfc/rfc2554.txt) で定義されています。</span><span class="sxs-lookup"><span data-stu-id="22f88-162">SMTP authentication is defined in [RFC 2554](http://www.ietf.org/rfc/rfc2554.txt).</span></span>

<span data-ttu-id="22f88-163">認証には、"*基本*" と "*ダイジェスト*" の 2 種類があります。</span><span class="sxs-lookup"><span data-stu-id="22f88-163">There are two flavors of authentication, namely *basic* and *digest*.</span></span> <span data-ttu-id="22f88-164">ダイジェストは、現在の NetX Duo SMTP クライアントではサポートされていないので、ここでは説明しません。</span><span class="sxs-lookup"><span data-stu-id="22f88-164">Digest is not supported in the current NetX Duo SMTP Client, and will not be discussed here.</span></span> <span data-ttu-id="22f88-165">基本認証は、前述の "*名前*" と "*パスワード*" の認証に相当します。</span><span class="sxs-lookup"><span data-stu-id="22f88-165">Basic authentication is equivalent to the *name* and *password* authentication described above.</span></span> <span data-ttu-id="22f88-166">SMTP 基本認証では、名前とパスワードは base64 でエンコードされます。</span><span class="sxs-lookup"><span data-stu-id="22f88-166">In SMTP basic authentication, the name and passwords are base64 encoded.</span></span> <span data-ttu-id="22f88-167">基本認証の利点は、実装が簡単で、広く使用されていることです。</span><span class="sxs-lookup"><span data-stu-id="22f88-167">The advantage of basic authentication is its ease of implementation and widespread use.</span></span> <span data-ttu-id="22f88-168">基本認証の主な欠点は、名前とパスワードが要求でオープンに送信されることです。</span><span class="sxs-lookup"><span data-stu-id="22f88-168">The main disadvantage of basic authentication is name and password data is transmitted openly in the request.</span></span>

### <a name="plain-authentication"></a><span data-ttu-id="22f88-169">プレーン認証</span><span class="sxs-lookup"><span data-stu-id="22f88-169">Plain Authentication</span></span>

<span data-ttu-id="22f88-170">NetX Duo SMTP クライアントからは、PLAIN パラメーターを指定した AUTH コマンドが送信されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-170">The NetX Duo SMTP Client sends an AUTH command with the PLAIN parameter.</span></span> <span data-ttu-id="22f88-171">NetX Duo SMTP サーバーでこの種類の認証がサポートされている場合、334 応答コードで応答が行われます。</span><span class="sxs-lookup"><span data-stu-id="22f88-171">If the NetX Duo SMTP Server supports this type of authentication, it will reply with a 334 reply code.</span></span> <span data-ttu-id="22f88-172">クライアントからは、1 つの base64 でエンコードされたユーザー名とパスワードのメッセージでサーバーに応答します。</span><span class="sxs-lookup"><span data-stu-id="22f88-172">The Client replies with a single base64 encoded username and password message to the Server.</span></span> <span data-ttu-id="22f88-173">サーバーでクライアント認証が成功したと判断された場合は、235 の成功コードで応答します。</span><span class="sxs-lookup"><span data-stu-id="22f88-173">If the Server determines the Client authentication is successful, it responds with the 235 success code.</span></span>

### <a name="login-authentication"></a><span data-ttu-id="22f88-174">ログイン認証</span><span class="sxs-lookup"><span data-stu-id="22f88-174">Login Authentication</span></span>

<span data-ttu-id="22f88-175">NetX Duo SMTP クライアントからは、LOGIN パラメーターを指定して AUTH コマンドが送信されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-175">The NetX Duo SMTP Client sends an AUTH command with the LOGIN parameter.</span></span> <span data-ttu-id="22f88-176">NetX Duo SMTP サーバーでこの種類の認証がサポートされている場合は、認証 "チャレンジ" の最初に 334 応答コードで応答します。</span><span class="sxs-lookup"><span data-stu-id="22f88-176">If the NetX Duo SMTP Server supports this type of authentication, it will reply with a 334 reply code as the start of the authentication ‘challenge’.</span></span> <span data-ttu-id="22f88-177">Base64 でエンコードされたプロンプトをクライアントに送り返します。これは通常 "Username" です。</span><span class="sxs-lookup"><span data-stu-id="22f88-177">It sends a base64 encoded prompt back to the Client which is typically “Username”.</span></span> <span data-ttu-id="22f88-178">クライアントによってプロンプトがデコードされ、base64 でエンコードされたユーザー名が返されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-178">The Client decodes the prompt, and replies with a base64 encoded username.</span></span> <span data-ttu-id="22f88-179">サーバーでクライアントのユーザー名が受け入れられると、クライアント パスワードを要求する base64 でエンコードされたプロンプトが送信されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-179">If the Server accepts the Client username, it sends out a base64 encoded prompt for the Client password.</span></span> <span data-ttu-id="22f88-180">クライアントからは base64 でエンコードされたパスワードが返されます。</span><span class="sxs-lookup"><span data-stu-id="22f88-180">The Client responds with a base64 encoded password.</span></span> <span data-ttu-id="22f88-181">サーバーでクライアント認証が成功したと判断された場合は、235 の成功コードで応答します。</span><span class="sxs-lookup"><span data-stu-id="22f88-181">If the Server determines the Client authentication is successful, it responds with the 235 success code.</span></span>

### <a name="no-authentication"></a><span data-ttu-id="22f88-182">[認証なし]</span><span class="sxs-lookup"><span data-stu-id="22f88-182">No Authentication</span></span>

<span data-ttu-id="22f88-183">一部の SMTP サーバーは、認証なしで構成されています。</span><span class="sxs-lookup"><span data-stu-id="22f88-183">Some SMTP Servers are configured without authentication.</span></span> <span data-ttu-id="22f88-184">その場合、クライアントの EHLO メッセージに対する 250 の応答には、認証の種類のリストが表示されません。</span><span class="sxs-lookup"><span data-stu-id="22f88-184">If so, their 250 response to the Client EHLO message will not list any authentication types.</span></span> <span data-ttu-id="22f88-185">ただし、どの認証の種類もリストに表示されないことが、必ずしもサーバーが認証を必要としない、またはサポートしていないことを意味するわけではありません。</span><span class="sxs-lookup"><span data-stu-id="22f88-185">However, no authentication types listed does not necessarily mean the Server does not require or support authentication.</span></span> <span data-ttu-id="22f88-186">このような状況でクライアントが PLAIN 認証または LOGIN 認証用に構成されている場合、NetX Duo クライアント スレッド タスクの既定値は PLAIN になります。</span><span class="sxs-lookup"><span data-stu-id="22f88-186">If the Client is configured for PLAIN or LOGIN authentication in this situation, the NetX Duo Client thread task will default to PLAIN.</span></span> <span data-ttu-id="22f88-187">クライアントが NONE に構成されている場合、認証ステップはスキップされ、SMTP の状態は MAIL の状態に進みます。</span><span class="sxs-lookup"><span data-stu-id="22f88-187">If the Client is configured for NONE, the authentication step is skipped and the SMTP state advances to the MAIL state.</span></span>

<span data-ttu-id="22f88-188">クライアントが認証なしで構成されていて、SMTP サーバーで認証がサポートされている場合、クライアント認証の種類は PLAIN に切り替わります。</span><span class="sxs-lookup"><span data-stu-id="22f88-188">Note that if the Client is configured for no authentication and the SMTP Server does support authentication, the Client authentication type is switched to PLAIN.</span></span>

## <a name="rfcs-supported-by-netx-duo-smtp-client"></a><span data-ttu-id="22f88-189">NetX Duo SMTP クライアントでサポートされている RFC</span><span class="sxs-lookup"><span data-stu-id="22f88-189">RFCs Supported by NetX Duo SMTP Client</span></span>

<span data-ttu-id="22f88-190">NetX Duo SMTP クライアント API は、RFC2821 "Simple Mail Transfer Protocol (簡易メール転送プロトコル)" および RFC 2554 の "SMTP Service Extension for Authentication (認証のための SMTP サービス拡張)" に準拠しています。</span><span class="sxs-lookup"><span data-stu-id="22f88-190">NetX Duo SMTP Client API is compliant with RFC2821 “Simple Mail Transfer Protocol” and RFC 2554 “SMTP Service Extension for Authentication.</span></span> <span data-ttu-id="22f88-191">“</span><span class="sxs-lookup"><span data-stu-id="22f88-191">“</span></span>
