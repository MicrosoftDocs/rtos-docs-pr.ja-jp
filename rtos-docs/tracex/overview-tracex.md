---
title: Azure RTOS TraceX を理解する
description: Azure RTOS TraceX は、開発者がリアルタイム システムのイベントをグラフィカルに表示し、リアルタイム システムの動作への理解を深めることができる、Microsoft のホストベース分析ツールです。
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: overview
ms.openlocfilehash: 9fd33eec6da69e6dda421a125a2dde5eae93b46d
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2021
ms.locfileid: "104813442"
---
# <a name="overview-of-azure-rtos-tracex"></a><span data-ttu-id="5e42a-103">Azure RTOS TraceX の概要</span><span class="sxs-lookup"><span data-stu-id="5e42a-103">Overview of Azure RTOS TraceX</span></span>

<span data-ttu-id="5e42a-104">Azure RTOS TraceX は、開発者がリアルタイム システムのイベントをグラフィカルに表示し、リアルタイム システムの動作への理解を深めることができる、Microsoft のホストベース分析ツールです。</span><span class="sxs-lookup"><span data-stu-id="5e42a-104">Azure RTOS TraceX is Microsoft's host-based analysis tool that provides developers with a graphical view of real-time system events and enables them to visualize and better understand the behavior of their real-time systems.</span></span> <span data-ttu-id="5e42a-105">Azure RTOS TraceX を使用すると、開発者は、標準的なデバッグ ツールでは発生状況がわからない、割り込みやコンテキスト切り替えなどのシステム イベントの発生を明確に確認できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-105">With Azure RTOS TraceX, developers can see clearly the occurrence of system events like interrupts and context switches that occur out of view of standard debugging tools.</span></span> <span data-ttu-id="5e42a-106">このようなイベントを特定して調査し、システムの全体的な動作のコンテキスト内からそれらの発生のタイミングを特定できるので、開発者は、予期しない動作を見つけ、実行時にアプリケーションによって決定されたバッファーの場所やサイズを使って、ターゲット システムのバッファーに格納されている詳しいトレース情報を調べ、特定の領域を調査して、プログラムの問題を解決することができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-106">The ability to identify and study these events, and to pinpoint the timing of their occurrence in the context of the overall system’s operation enables developers to resolve programming problems by finding unexpected behavior and letting them investigate specific areas further Trace information is stored in a buffer on the target system, with the buffer location and size determined by the application at run-time.</span></span> <span data-ttu-id="5e42a-107">Azure RTOS TraceX では、適切な方法で構築されたあらゆるバッファーを処理できます。Azure RTOS ThreadX だけでなく、任意のアプリケーションや RTOS から構築されたものにも対応しています。</span><span class="sxs-lookup"><span data-stu-id="5e42a-107">Azure RTOS TraceX can process any buffer constructed in the proper manner, not only from Azure RTOS ThreadX, but from any application or RTOS.</span></span> <span data-ttu-id="5e42a-108">トレース情報は、いつでもホストにアップロードし、分析することができます (事後分析とブレークポイントの両方に対応)。</span><span class="sxs-lookup"><span data-stu-id="5e42a-108">The trace information may be uploaded to the host for analysis at any time – either post mortem or upon a breakpoint.</span></span> <span data-ttu-id="5e42a-109">Azure RTOS ThreadX では、循環バッファーが実装されているので、システムの誤動作やその他の重要なイベントが発生した際に、直近の "N" 個のイベントを調べることができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-109">Azure RTOS ThreadX implements a circular buffer, which enables the most recent “N” events to be available for inspection in the event of system malfunction or other significant event.</span></span>

![Azure RTOS TraceX のシングル コア表示](./media/user-guide/screen_shot_33.png)

<span data-ttu-id="5e42a-111">**TraceX のシングル コア表示**</span><span class="sxs-lookup"><span data-stu-id="5e42a-111">**TraceX Single-Core Display**</span></span>

## <a name="key-capabilites"></a><span data-ttu-id="5e42a-112">主な機能</span><span class="sxs-lookup"><span data-stu-id="5e42a-112">Key capabilites</span></span>

### <a name="azure-rtos-tracex-built-in-system-analysis"></a><span data-ttu-id="5e42a-113">Azure RTOS TraceX の組み込みシステム分析</span><span class="sxs-lookup"><span data-stu-id="5e42a-113">Azure RTOS TraceX built-in system analysis</span></span>

<span data-ttu-id="5e42a-114">Azure RTOS TraceX には、組み込みのシステム分析レポートが用意されています。これらは、TraceX ツールバーのボタンを 1 回クリックするだけで利用できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-114">Azure RTOS TraceX is provides built-in system analysis reports that are available via a single button click from the TraceX toolbar.</span></span> <span data-ttu-id="5e42a-115">これらのボタンとレポートには次のものが含まれます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-115">These buttons and reports include:</span></span>

![実行プロファイル レポートの生成](./media/overview-tracex/execution-profile-report-button.jpg) <span data-ttu-id="5e42a-117">実行プロファイル レポートの生成</span><span class="sxs-lookup"><span data-stu-id="5e42a-117">Generate Execution Profile report</span></span>

![パフォーマンス統計レポートの生成](./media/overview-tracex/performance-statistics-report-button.jpg) <span data-ttu-id="5e42a-119">パフォーマンス統計レポートの生成</span><span class="sxs-lookup"><span data-stu-id="5e42a-119">Generate Performance Statistics report</span></span>

![スレッド スタックの使用状況レポートの生成](./media/overview-tracex/thread-stack-usage-report-button.jpg) <span data-ttu-id="5e42a-121">スレッド スタックの使用状況レポートの生成</span><span class="sxs-lookup"><span data-stu-id="5e42a-121">Generate Thread Stack Usage report</span></span>

### <a name="trace-data-collected-by-azure-rtos-threadx"></a><span data-ttu-id="5e42a-122">Azure RTOS ThreadX によって収集されるトレース データ</span><span class="sxs-lookup"><span data-stu-id="5e42a-122">Trace data collected By Azure RTOS ThreadX</span></span>

<span data-ttu-id="5e42a-123">Azure RTOS TraceX は、Azure RTOS ThreadX と連携するように設計されています。ThreadX では、実行時にターゲット システム上で発生するシステムとアプリケーションの "イベント" に関するデータベースが構築されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-123">Azure RTOS TraceX is designed to work with Azure RTOS ThreadX, which constructs a database of system and application “events” on the target system during run-time.</span></span> <span data-ttu-id="5e42a-124">イベントには次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-124">These events include:</span></span>

* <span data-ttu-id="5e42a-125">スレッド コンテキスト切り替え</span><span class="sxs-lookup"><span data-stu-id="5e42a-125">thread context switches</span></span>
* <span data-ttu-id="5e42a-126">プリエンプション</span><span class="sxs-lookup"><span data-stu-id="5e42a-126">preemptions</span></span>
* <span data-ttu-id="5e42a-127">中断</span><span class="sxs-lookup"><span data-stu-id="5e42a-127">suspensions</span></span>
* <span data-ttu-id="5e42a-128">終了</span><span class="sxs-lookup"><span data-stu-id="5e42a-128">terminations</span></span>
* <span data-ttu-id="5e42a-129">システム割り込み</span><span class="sxs-lookup"><span data-stu-id="5e42a-129">system interrupts</span></span>
* <span data-ttu-id="5e42a-130">アプリケーション固有のイベント</span><span class="sxs-lookup"><span data-stu-id="5e42a-130">application-specific events</span></span>
* <span data-ttu-id="5e42a-131">すべての Azure RTOS ThreadX API 呼び出し</span><span class="sxs-lookup"><span data-stu-id="5e42a-131">all Azure RTOS ThreadX API calls</span></span>
* <span data-ttu-id="5e42a-132">すべての Azure RTOS NetX API 呼び出し</span><span class="sxs-lookup"><span data-stu-id="5e42a-132">all Azure RTOS NetX API calls</span></span>
* <span data-ttu-id="5e42a-133">すべての Azure RTOS FileX API 呼び出し</span><span class="sxs-lookup"><span data-stu-id="5e42a-133">all Azure RTOS FileX API calls</span></span>
* <span data-ttu-id="5e42a-134">すべての Azure RTOS USBX API 呼び出し</span><span class="sxs-lookup"><span data-stu-id="5e42a-134">all Azure RTOS USBX API calls</span></span>
* <span data-ttu-id="5e42a-135">アプリケーションで定義されたアイコンと情報</span><span class="sxs-lookup"><span data-stu-id="5e42a-135">application-defined icons and information</span></span>

<span data-ttu-id="5e42a-136">イベントは、タイムスタンプとアクティブ スレッド ID を使用してプログラムの制御下で記録されるので、後から、適切な時間シーケンスで、適切なスレッドに関連付けて表示することができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-136">Events are logged under program control, with time-stamping and active thread identification so they can be displayed later in the proper time sequence, and associated with the appropriate thread.</span></span> <span data-ttu-id="5e42a-137">イベント ログは、アプリケーション プログラムによって動的に (たとえば、関心領域が検出されたときなどに) 停止および再起動することができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-137">Event logging may be stopped and restarted by the application program dynamically, for example, when an area of interest is encountered.</span></span> <span data-ttu-id="5e42a-138">そのため、システムが正常に動作しているときにデータベースを操作して、ターゲットのメモリを消費する必要がなくなります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-138">This avoids cluttering the database and using up target memory when the system is performing correctly.</span></span>

### <a name="azure-rtos-tracex-is-like-a-software-logic-analyzer"></a><span data-ttu-id="5e42a-139">Azure RTOS TraceX はソフトウェア ロジック アナライザーに似ている</span><span class="sxs-lookup"><span data-stu-id="5e42a-139">Azure RTOS TraceX is like a software logic analyzer</span></span>

<span data-ttu-id="5e42a-140">イベント ログがターゲット メモリからホストにアップロードされると、Azure RTOS TraceX では、時間を表す水平軸上にイベントがグラフィカルに表示されます。また、イベントが関連しているさまざまなアプリケーション スレッドとシステム ルーチンが、縦軸に沿って表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-140">Once the event log has been uploaded from target memory to the host, Azure RTOS TraceX displays the events graphically on a horizontal axis representing time, with the various application threads and system routines to which the events are related listed along the vertical axis.</span></span> <span data-ttu-id="5e42a-141">Azure RTOS TraceX では、"ソフトウェア ロジック アナライザー" をホスト上に作成することで、システム イベントをわかりやすく表示できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-141">Azure RTOS TraceX creates a “software logic analyzer” on the host, making system events plainly visible.</span></span> <span data-ttu-id="5e42a-142">イベントは、色分けされたアイコンによって表され、水平のタイムライン上の発生時の位置に表示されます (関連するスレッドまたはシステム ルーチンの右側)。</span><span class="sxs-lookup"><span data-stu-id="5e42a-142">Events are represented by color coded icons, located at the point of occurrence along the horizontal timeline, to the right of the relevant thread or system routine.</span></span> <span data-ttu-id="5e42a-143">イベント アイコンを選択すると、そのイベントに対応する情報が表示されます。また、その前後それぞれ 2 件のイベントの情報も表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-143">When an event icon is selected, the corresponding information for that event is displayed, as well as the information for the two previous and two subsequent events.</span></span> <span data-ttu-id="5e42a-144">そのため、対象のイベントとその前後のイベントに関する重要な情報に、シングルクリックですばやくアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-144">This provides quick, single-click access to the most immediate information about the event and its immediately surrounding events.</span></span> <span data-ttu-id="5e42a-145">Azure RTOS TraceX では、すべてのシステム イベントを 1 つの水平線上に表示して、多数のスレッドがあるシステムの分析を簡略化できる、"概要" 表示も利用できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-145">Azure RTOS TraceX provides a “Summary” display that shows all system events on a single horizontal line to simplify analysis of systems with many threads.</span></span>

### <a name="sequential-view-mode"></a><span data-ttu-id="5e42a-146">シーケンシャル ビュー モード</span><span class="sxs-lookup"><span data-stu-id="5e42a-146">Sequential view mode</span></span>

<span data-ttu-id="5e42a-147">シーケンシャル ビュー モードを選択するには、[シーケンシャル ビュー] タブをクリックします。これは既定のモードです。</span><span class="sxs-lookup"><span data-stu-id="5e42a-147">The sequential view mode is selected by clicking the “Sequential View” tab. This is the default mode.</span></span> <span data-ttu-id="5e42a-148">このモードでは、イベント間の経過時間に関係なく、イベントが相互に連結されて表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-148">In this mode, events are shown immediately following each other–regardless of the elapsed time between them.</span></span> <span data-ttu-id="5e42a-149">表示領域の上にあるルーラーにも注目してください。</span><span class="sxs-lookup"><span data-stu-id="5e42a-149">Note also the ruler above the display area.</span></span> <span data-ttu-id="5e42a-150">ここには、トレース開始時点からの相対イベント番号が表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-150">It shows the relative event number from the beginning of the trace.</span></span> <span data-ttu-id="5e42a-151">このモードは既定のモードであり、システムの動作の概要を把握するのに特に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-151">This mode is the default mode and is especially useful in getting a good overview of what is going on in the system.</span></span>

![シーケンシャル ビュー モード](./media/user-guide/screen_shot_10.png)

<span data-ttu-id="5e42a-153">**シーケンシャル ビュー モード**</span><span class="sxs-lookup"><span data-stu-id="5e42a-153">**Sequential view mode**</span></span>

### <a name="time-view-mode"></a><span data-ttu-id="5e42a-154">時間ビュー モード</span><span class="sxs-lookup"><span data-stu-id="5e42a-154">Time view mode</span></span>

<span data-ttu-id="5e42a-155">このモードでは、イベントは時間の経過に即した方法で表示されます。緑色で塗られたバーが、イベント間の実行時間を示します。</span><span class="sxs-lookup"><span data-stu-id="5e42a-155">In this mode, events are shown in a time relative manner–with a solid green bar being used to show execution between events.</span></span> <span data-ttu-id="5e42a-156">このモードは特に、システム内のどこで大量の処理が行われているかを確認するのに役立ちます。これにより、開発者はシステムをチューニングして、パフォーマンスや応答性を向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-156">This mode is especially useful to see where the bulk of processing is taking place in the system, which can help developers tune their system for greater performance and/or responsiveness.</span></span>

<span data-ttu-id="5e42a-157">イベント表示の上にあるルーラーにも注目してください。</span><span class="sxs-lookup"><span data-stu-id="5e42a-157">Note also the ruler above the event display.</span></span> <span data-ttu-id="5e42a-158">このルーラーには、トレース開始時点からの相対ティック数が表示されます。値は、Azure RTOS ThreadX 内のイベント トレース ログに記録されたタイムスタンプから抽出されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-158">This ruler shows relative ticks from the beginning of the trace, as derived from the time stamp instrumented in the event trace logging inside of Azure RTOS ThreadX.</span></span> <span data-ttu-id="5e42a-159">タイムスタンプの間隔が狭すぎる場合 (低周波タイマー) は、複数のイベントが同時に実行されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-159">If the time-stamps are too close (low frequency timer), the events will run together.</span></span> <span data-ttu-id="5e42a-160">逆に、タイムスタンプの間隔が広すぎる場合 (高周波タイマー) は、イベントどうしの間隔が空きすぎます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-160">Conversely, if the time-stamps are too far apart (high frequency timer), then the events will be too far apart.</span></span> <span data-ttu-id="5e42a-161">適切な頻度のタイムスタンプを選択することは、時間ビューをわかりやすくするための重要な考慮事項です。</span><span class="sxs-lookup"><span data-stu-id="5e42a-161">Choosing the right frequency time stamp is an important consideration in making the time relative view meaningful.</span></span>

![時間ビュー モード](./media/user-guide/screen_shot_31.png)

### <a name="system-summary-line"></a><span data-ttu-id="5e42a-163">システム概要行</span><span class="sxs-lookup"><span data-stu-id="5e42a-163">System summary line</span></span>

<span data-ttu-id="5e42a-164">Azure RTOS TraceX には、すべてのイベントが同じ行に表示される、概要行もあります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-164">Azure RTOS TraceX also provides a single summary line that includes all events on the same line.</span></span> <span data-ttu-id="5e42a-165">概要行にはコンテキストの概要が表示され、その下には対応するイベントの概要が表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-165">The summary line contains a summary of the context as well as the corresponding event summary underneath.</span></span> <span data-ttu-id="5e42a-166">これにより、複雑なシステムの概要を簡単に確認できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-166">This makes it easy to see an overview of a complex system.</span></span> <span data-ttu-id="5e42a-167">概要バーは、大量のスレッドがあるシステムで特に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-167">The summary bar is especially beneficial in systems that have a great number of threads.</span></span> <span data-ttu-id="5e42a-168">このような概要行がないと、ユーザーは複雑なシステムの状況を把握するために、垂直スクロール バーを使って実行のコンテキストを確認しなければならなくなります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-168">Without such a summary line, the user would have to follow complex system interactions using the vertical scroll bar to follow the context of execution.</span></span>

<span data-ttu-id="5e42a-169">Azure RTOS TraceX では、画面の左側にシステム コンテキストが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-169">Azure RTOS TraceX lists the system contexts on the left-hand side of the display.</span></span>
<span data-ttu-id="5e42a-170">特定のコンテキストで発生したイベントは、そのコンテキストの右側の水平線上に表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-170">Events that occur in a particular context are displayed on the horizontal line to the right of that context.</span></span> <span data-ttu-id="5e42a-171">これにより、ユーザーはイベントが発生したコンテキストを簡単に確認できるだけでなく、そのコンテキストの線をたどって、特定のコンテキストで発生したすべてのイベントを確認することができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-171">In this way, the user can easily ascertain which context the event occurred as well as follow that context line to see all the events that occurred in a particular context.</span></span>

![システム概要行](./media/user-guide/screen_shot_32.png)

<span data-ttu-id="5e42a-173">**システム概要行**</span><span class="sxs-lookup"><span data-stu-id="5e42a-173">**System Summary Line**</span></span>

<span data-ttu-id="5e42a-174">最初の 2 つのコンテキスト エントリは、常に "割り込み" コンテキストと "初期化/アイドル" コンテキストになります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-174">The first two context entries are always the “Interrupt” and “Initialize/Idle” contexts.</span></span> <span data-ttu-id="5e42a-175">"割り込み" コンテキストは、割り込みサービス ルーチン (ISR) によって生成されたすべてのシステム イベントを表します。</span><span class="sxs-lookup"><span data-stu-id="5e42a-175">The “Interrupt” context represents all system events made from Interrupt Service Routines (ISRs).</span></span> <span data-ttu-id="5e42a-176">"初期化/アイドル" コンテキストは、Azure RTOS ThreadX 内での 2 つのコンテキストを表します。</span><span class="sxs-lookup"><span data-stu-id="5e42a-176">The “Initialize/Idle” context represents two contexts in Azure RTOS ThreadX.</span></span> <span data-ttu-id="5e42a-177">tx_application_define 中に発生したイベントは "初期化" イベントであり、"初期化/アイドル" コンテキストに表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-177">Events that occur during tx_application_define, are “Initialize” events and are displayed on the “Initialize/Idle” context.</span></span> <span data-ttu-id="5e42a-178">システムがアイドル状態でイベントが発生していない場合、時間ビューで "実行中" を表す緑色のバーが "初期化/アイドル" コンテキストに表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-178">If the system is idle and thus no events are occurring, the green bar representing ”Running” in the time view is drawn on the ”Initialize/Idle” context.</span></span>

## <a name="methods-of-navigation"></a><span data-ttu-id="5e42a-179">ナビゲーションの方法</span><span class="sxs-lookup"><span data-stu-id="5e42a-179">Methods of navigation</span></span>

<span data-ttu-id="5e42a-180">Azure RTOS TraceX では、"次へ" と "前へ" のナビゲーション ボタンの動作を開発者が指定できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-180">Azure RTOS TraceX enables the developer to specify how the "Next" and "Previous" navigation buttons operate.</span></span>

![ナビゲーション ボタン](./media/user-guide/event.png)

<span data-ttu-id="5e42a-182">"イベント" が選択されている場合、ナビゲーションは次/前のイベントに対して実行されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-182">If “Event” is selected, navigation is done on the next/previous event.</span></span> <span data-ttu-id="5e42a-183">"コンテキスト" が選択されている場合、ナビゲーションは、同じコンテキスト上の次/前のイベントに対して実行されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-183">If “Context” is selected, navigation is done on the next/previous event on the same context.</span></span> <span data-ttu-id="5e42a-184">"オブジェクト" が選択されている場合、ナビゲーションは、現在のオブジェクトの次/前のイベント (特定のキューに関連付けられているイベントなど) に対して実行されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-184">If “Object” is selected, navigation is done on the next/previous event of the current object, e.g., events associated with a specific queue.</span></span> <span data-ttu-id="5e42a-185">"切り替え" が選択されている場合、ナビゲーションは次/前のコンテキスト切り替えに対して実行されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-185">If “Switches” is selected, navigation is done on the next/previous context switch.</span></span> <span data-ttu-id="5e42a-186">"同じ ID" が選択されている場合、ナビゲーションは、同じイベント ID の次/前のイベントに対して実行されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-186">If “Same ID” is selected, navigation is done on the next/previous event for the same event ID.</span></span>

### <a name="event-information-display"></a><span data-ttu-id="5e42a-187">イベント情報の表示</span><span class="sxs-lookup"><span data-stu-id="5e42a-187">Event information display</span></span>

<span data-ttu-id="5e42a-188">Azure RTOS TraceX では、約 300 のイベントについて詳細な情報が提供されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-188">Azure RTOS TraceX provides detailed information on some 300 events.</span></span> <span data-ttu-id="5e42a-189">これには、6 つの内部的な Azure RTOS ThreadX イベント、2 つの ISR イベント (開始および終了)、14 の内部的な Azure RTOS FileX イベント、42 の内部的な Azure RTOS NetX イベント、および 1 つのユーザー定義イベントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-189">These include six internal Azure RTOS ThreadX events, two ISR events (enter and exit), 14 internal Azure RTOS FileX events, 42 internal Azure RTOS NetX events, and one user-defined event.</span></span> <span data-ttu-id="5e42a-190">残りのイベントは、Azure RTOS ThreadX、Azure RTOS FileX、および Azure RTOS NetX API サービスに直接対応したものです。</span><span class="sxs-lookup"><span data-stu-id="5e42a-190">The remaining events correspond directly to Azure RTOS ThreadX, Azure RTOS FileX, and Azure RTOS NetX API services.</span></span>
<span data-ttu-id="5e42a-191">シーケンシャル ビューと時間ビューのどちらの表示モードが選択されているかにかかわらず、表示領域内の任意のイベントにマウス ポインターを置くと、そのイベントの近くに詳細なイベント情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-191">Regardless of whether sequential or time display mode is selected, a mouse-over on any event in the display area results in detailed event information displayed near the event.</span></span> <span data-ttu-id="5e42a-192">次に示すのは、デモ用の demo_threadx.trx トレース ファイルにあるイベント 494 にマウス ポインターを置いた場合の例です。</span><span class="sxs-lookup"><span data-stu-id="5e42a-192">The mouse-over of event 494 in the demonstration demo_threadx.trx trace file is shown here:</span></span>

![マウス ポインターを置いたときに表示される詳細情報](./media/user-guide/screen_shot_37.png)

<span data-ttu-id="5e42a-194">**マウス ポインターを置いたときに表示される詳細情報**</span><span class="sxs-lookup"><span data-stu-id="5e42a-194">**Mouse-Over Displays More Info**</span></span>

<span data-ttu-id="5e42a-195">表示される各イベントには、コンテキストの情報に加え、相対時刻とタイム スタンプの両方に関する標準的な情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="5e42a-195">Each event displayed contains standard information about Context and both the Relative Time and Time Stamp.</span></span> <span data-ttu-id="5e42a-196">[コンテキスト] フィールドには、イベントが発生したコンテキストが表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-196">The Context field shows what context the event took place in.</span></span> <span data-ttu-id="5e42a-197">スレッド、アイドル、ISR、および初期化の 4 つのコンテキストがあります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-197">There are exactly four contexts: thread, idle, ISR, and initialization.</span></span> <span data-ttu-id="5e42a-198">イベントがスレッド コンテキストで発生すると、その時点でのスレッド名とその優先順位が収集され、上記のように表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-198">When an event takes place in a thread context, the thread name and its priority at that time is gathered and displayed as shown above.</span></span> <span data-ttu-id="5e42a-199">相対時間は、トレース開始時点からの相対的なタイマー ティック数を示します。</span><span class="sxs-lookup"><span data-stu-id="5e42a-199">The Relative Time shows the relative number of timer ticks from the beginning of the trace.</span></span> <span data-ttu-id="5e42a-200">生のタイム スタンプには、イベントの生のタイム ソースが表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-200">The Raw Time Stamp displays the raw time source of the event.</span></span> <span data-ttu-id="5e42a-201">最後に、すべてのイベント固有情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-201">Finally, all event-specific information is displayed.</span></span>

### <a name="zooming-in-and-out"></a><span data-ttu-id="5e42a-202">拡大と縮小</span><span class="sxs-lookup"><span data-stu-id="5e42a-202">Zooming in and out</span></span>

<span data-ttu-id="5e42a-203">Azure RTOS TraceX の既定では、ピクセルとティックを 1:1 でマッピングした、見やすいサイズでイベントが表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-203">By default, Azure RTOS TraceX displays the events in an easy-to-view size, with a 1:1 pixel:tick mapping.</span></span> <span data-ttu-id="5e42a-204">ユーザーは、必要に応じて拡大や縮小を行うことができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-204">The user may zoom in or zoom out as desired.</span></span> <span data-ttu-id="5e42a-205">100% に縮小すると、現在の表示ビューでトレース全体を表示できます。拡大は、タイム スタンプ ソースの解像度によってイベントが重なって表示される場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="5e42a-205">Zooming out to 100% is useful to see the entire trace in the current display view, while zooming in is useful in conditions where the events overlap due to the resolution of the time stamp source.</span></span>

![縮小による 100% 表示と拡大による詳細表示](./media/user-guide/screen_shot_41.png)

<span data-ttu-id="5e42a-207">**縮小による 100% 表示と拡大による詳細表示**</span><span class="sxs-lookup"><span data-stu-id="5e42a-207">**Zoom Out to 100% View or Zoom In for Details**</span></span>

<span data-ttu-id="5e42a-208">100% に縮小すると、現在の表示ページ内にトレース全体が表示されます。これにより、トレースでキャプチャされたすべてのコンテキストの実行と、それらのコンテキスト内で発生している全般的なイベントを簡単に確認できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-208">When zoomed out at 100% – showing the entire trace within the current display page – it is easy to see all the context execution captured in the trace as well as the general events occurring within those contexts.</span></span> <span data-ttu-id="5e42a-209">"スレッド 1" と "スレッド 2" が最も頻繁に実行されていることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="5e42a-209">Notice that “thread 1“ and “thread 2“ execute most often.</span></span> <span data-ttu-id="5e42a-210">イベントを青色で表示することで、これらのスレッドがキュー サービス呼び出しを行っていることも示されています (キュー イベントは青色)。</span><span class="sxs-lookup"><span data-stu-id="5e42a-210">The blue coloring for their events also suggests that these threads are making queue service calls (queue events are blue in color).</span></span>

<span data-ttu-id="5e42a-211">詳細なアイコン ビューに戻すのも、同じように簡単です。[拡大] ボタンを繰り返し選択するか、100 の倍数を入力します。</span><span class="sxs-lookup"><span data-stu-id="5e42a-211">Restoring to a full icon view is equally easy; Either the zoom-in button may be selected repeatedly or some factor of 100 may be entered.</span></span>

### <a name="delta-ticks-between-events"></a><span data-ttu-id="5e42a-212">イベント間の差分ティック数</span><span class="sxs-lookup"><span data-stu-id="5e42a-212">Delta ticks between events</span></span>

<span data-ttu-id="5e42a-213">Azure RTOS TraceX では、さまざまなイベント間のタイマー ティック数を簡単に確認できます。開始イベントをクリックし、終了イベントまでドラッグするだけです。</span><span class="sxs-lookup"><span data-stu-id="5e42a-213">Determining the number of ticks between various events in Azure RTOS TraceX is easy–simply click on the starting event and drag the mouse to the ending event.</span></span>
<span data-ttu-id="5e42a-214">イベント間のティックの差分数は、画面の右上隅に表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-214">The delta number of ticks between the events will show up in the upper right-hand corner of the display.</span></span>

![差分ティック数](./media/user-guide/screen_shot_42.png)

<span data-ttu-id="5e42a-216">**差分ティック数**</span><span class="sxs-lookup"><span data-stu-id="5e42a-216">**Delta Ticks**</span></span>

<span data-ttu-id="5e42a-217">この差分ティック数は、イベント 494 とイベント 496 の間で 5032 ティックが経過したことを示しています。</span><span class="sxs-lookup"><span data-stu-id="5e42a-217">The delta ticks show that 5032 ticks have elapsed between event 494 and event 496.</span></span> <span data-ttu-id="5e42a-218">各イベント内の相対タイム スタンプを見て引き算することで、手動で計算することもできますが、GUI を使ったほうがすばやく簡単に確認できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-218">This could also be calculated manually by looking at the relative time stamps in each event and subtracting, but using the GUI is easy and instantaneous.</span></span>

### <a name="priority-inversions"></a><span data-ttu-id="5e42a-219">優先度逆転</span><span class="sxs-lookup"><span data-stu-id="5e42a-219">Priority inversions</span></span>

<span data-ttu-id="5e42a-220">Azure RTOS TraceX では、トレース ファイル内で検出された優先度逆転が自動的に表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-220">Azure RTOS TraceX automatically displays priority inversions detected in the trace file.</span></span> <span data-ttu-id="5e42a-221">優先度逆転とは、優先度の高いスレッドが、優先度の低いスレッドによって現在所有されているミューテックスを取得しようとしてブロックされた状態のことです。</span><span class="sxs-lookup"><span data-stu-id="5e42a-221">Priority inversions are defined as conditions where a higher-priority thread is blocked trying to obtain a mutex that is currently owned by a lower-priority thread.</span></span> <span data-ttu-id="5e42a-222">この状態は、"決定論的" という用語で表現されます。システムがそのように動作するよう設定されているためです。</span><span class="sxs-lookup"><span data-stu-id="5e42a-222">This condition is termed “deterministic,” since the system was setup to operate in this manner.</span></span> <span data-ttu-id="5e42a-223">ユーザーにわかるように、Azure RTOS TraceX では、"決定論的な" 優先度逆転の範囲が薄いサーモン ピンク色で表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-223">In order to inform the user, Azure RTOS TraceX shows “deterministic” priority inversion ranges as a light salmon color.</span></span>

<span data-ttu-id="5e42a-224">Azure RTOS TraceX には、"非決定論的" な優先度逆転も表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-224">Azure RTOS TraceX also displays “un-deterministic” priority inversions.</span></span> <span data-ttu-id="5e42a-225">これらの優先度逆転では、優先度レベルの異なる別のスレッドが、"決定論的な" 優先度逆転であったものの中間に実行されることで、優先度逆転内の時間がやや "非決定論的" になります。その点で、"決定論的" 優先度逆転とは異なります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-225">These priority inversions differ from the “deterministic” priority inversions in that another thread of a different priority level has executed in the middle of what was a “deterministic” priority inversion, thereby making the time within the priority inversion somewhat “un-deterministic.”</span></span> <span data-ttu-id="5e42a-226">多くの場合、この状況はユーザーからはわからず、非常に深刻な状況をもたらす可能性があります。</span><span class="sxs-lookup"><span data-stu-id="5e42a-226">This condition is often unknown to the user and can be very serious.</span></span> <span data-ttu-id="5e42a-227">この状況をユーザーに警告するために、Azure RTOS TraceX では、"非決定論的" な優先度逆転が、濃いサーモン ピンク色で表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-227">In order to alert the user of this condition, Azure RTOS TraceX shows “un-deterministic” priority inversions as a brighter salmon color.</span></span>

![決定論的な優先度逆転と非決定論的な優先度逆転](./media/user-guide/screen_shot_43.png)

<span data-ttu-id="5e42a-229">**決定論的な優先度逆転と非決定論的な優先度逆転**</span><span class="sxs-lookup"><span data-stu-id="5e42a-229">**Deterministic and Non-Deterministic Priority Inversion**</span></span>

### <a name="execution-profile"></a><span data-ttu-id="5e42a-230">実行プロファイル</span><span class="sxs-lookup"><span data-stu-id="5e42a-230">Execution profile</span></span>

<span data-ttu-id="5e42a-231">Azure RTOS TraceX では、現在読み込まれているトレース ファイル内のすべての実行コンテキストを対象に、組み込みの実行プロファイル レポートを利用できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-231">Azure RTOS TraceX provides a built-in execution profile report for all execution contexts within in the currently loaded trace file.</span></span>

![実行プロファイル](./media/user-guide/execution_profile.png)

### <a name="performance-statistics"></a><span data-ttu-id="5e42a-233">Performance statistics</span><span class="sxs-lookup"><span data-stu-id="5e42a-233">Performance statistics</span></span>

<span data-ttu-id="5e42a-234">Azure RTOS TraceX では、現在読み込まれているトレース ファイルを対象に、組み込みのパフォーマンス統計レポートを利用できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-234">Azure RTOS TraceX provides a built-in performance statistics report for the currently loaded trace file.</span></span>

![Performance statistics](./media/user-guide/performance_statistics.png)

### <a name="thread-stack-usage"></a><span data-ttu-id="5e42a-236">スレッド スタック使用状況</span><span class="sxs-lookup"><span data-stu-id="5e42a-236">Thread stack usage</span></span>

<span data-ttu-id="5e42a-237">Azure RTOS TraceX では、現在読み込まれているトレース ファイル内で実行されているすべてのスレッドを対象に、組み込みのスタック使用状況レポートを利用できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-237">Azure RTOS TraceX provides a built-in stack usage report for all threads executing within in the currently loaded trace file.</span></span>

![スタックの使用](./media/user-guide/thread_stack_usage.png)

<span data-ttu-id="5e42a-239">Azure RTOS TraceX では、現在読み込まれているトレース ファイルの Azure RTOS FileX パフォーマンス統計を表示できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-239">Azure RTOS TraceX presents the Azure RTOS FileX performance statistics of the currently loaded trace file.</span></span> <span data-ttu-id="5e42a-240">この情報は、システム全体 (開いているすべてのメディア オブジェクト) を対象に表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-240">This information is displayed for the entire system–on all opened media objects.</span></span>

![FileX 統計](./media/user-guide/filex_statistics.png)

### <a name="azure-rtos-netx-statistics"></a><span data-ttu-id="5e42a-242">Azure RTOS NetX 統計</span><span class="sxs-lookup"><span data-stu-id="5e42a-242">Azure RTOS NetX statistics</span></span>

<span data-ttu-id="5e42a-243">Azure RTOS TraceX では、現在読み込まれているトレース ファイルの NetX パフォーマンス統計を表示できます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-243">Azure RTOS TraceX also presents the NetX performance statistics of the currently loaded trace file.</span></span> <span data-ttu-id="5e42a-244">この情報は、システム全体を対象に表示されます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-244">This information is displayed for the entire system.</span></span>

![NetX 統計](./media/user-guide/netx_statistics.png)

### <a name="raw-trace-dump"></a><span data-ttu-id="5e42a-246">生のトレース ダンプ</span><span class="sxs-lookup"><span data-stu-id="5e42a-246">Raw trace dump</span></span>

<span data-ttu-id="5e42a-247">Azure RTOS TraceX では、生のトレース ファイルをテキスト形式で作成し、メモ帳で開いて表示することができます。</span><span class="sxs-lookup"><span data-stu-id="5e42a-247">Azure RTOS TraceX can build a raw trace file in text format and launch notepad to display it.</span></span>

![生のトレース ダンプ](./media/user-guide/raw_trace_dump.png)

<span data-ttu-id="5e42a-249">表示されるすべてのタイミングとサイズの数値は推定値であり、開発プラットフォームによって異なる場合があることに注意してください</span><span class="sxs-lookup"><span data-stu-id="5e42a-249">Please note that all timing and size figures listed are estimates and may be different on your development platform</span></span>
